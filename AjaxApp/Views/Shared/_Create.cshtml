@model AjaxApp.Models.Student

@{
    ViewBag.Title = "Create";
}

@using (Html.BeginForm())
{
    <h4>Add New Student</h4>
    <div class="form-group">
        @Html.LabelFor(model => model.FirstName)
    </div>
    <div class="form-group">
        @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control" } })
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.LastName)
    </div>
    <div class="form-group">
        @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control" } })
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.Address)
    </div>
    <div class="form-group">
        @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
    </div>
   
    <button type="submit" class="btn btn-primary" onclick="BtnClick">Create</button>
}


<script>

    function BtnClick() {
        var FirstName = $("#FirstName").val();
        var LastName = $("#LastName").val();
        var Address = $("#Address").val();

        var student = {
            FirstName: FirstName,
            LastName: LastName,
            Address: Address
        }

        CreateStudent(student);
        LoadData();
    }

    function CreateStudent(student) {
        $.ajax({
            url: "/Home/Create",
            method: "POST",
            data: student,
            success: function (data) {
                data = JSON.parse(data);
                modal.style.display = "none";
                LoadData();
            },
            error: function (err) {
                alert("Something went wrong");
            }


        })
    }

</script>